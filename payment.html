<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Payment | Tripizo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body class="bg-gray-100 font-sans">

    <!-- Header -->
    <div class="h-15 flex justify-between items-center">
        <div>
            <h1 class="text-xl font-bold">
                <i class="fas fa-car text-black-500 ml-4"></i>
                <span>Tripizo</span>
            </h1>
        </div>
        <div class="flex gap-10">
            <a href="index.html" class="text-base font-bold hover:text-red-500">Home</a>
            <a href="vehicles.html" class="text-base font-bold hover:text-red-500">Vehicles</a>
            <a href="details.html" class="text-base font-bold hover:text-red-500">Details</a>
            <a href="about.html" class="text-base font-bold hover:text-red-500">About Us</a>
            <a href="contact.html" class="text-base font-bold hover:text-red-500">Contact Us</a>
        </div>
        <div class="mr-6">
            <a href="Login.html" class="bg-blue-500 text-white px-4 py-2 rounded-[40px] font-bold hover:bg-red-500">LOG IN</a>
        </div>
    </div>

    <!-- Payment Status Header -->
    <div class="py-8 bg-gradient-to-r from-green-600 to-blue-600">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex items-center justify-center">
                <div class="text-center text-white">
                    <i class="fas fa-credit-card text-4xl mb-4"></i>
                    <h1 class="text-3xl font-bold mb-2">Complete Your Payment</h1>
                    <p class="text-green-100">Secure your booking with a quick payment</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Section -->
    <div class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                
                <!-- Payment Methods -->
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-lg border">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-mobile-alt text-orange-500 mr-2"></i>
                            Mobile Banking
                        </h2>
                        
                        <!-- bKash Payment -->
                        <div class="payment-method mb-6" data-method="bkash">
                            <div class="border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-pink-500 transition-colors" onclick="selectPaymentMethod('bkash')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-pink-500 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fab fa-bitcoin text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg">bKash</h3>
                                            <p class="text-gray-600 text-sm">Most popular mobile banking</p>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </div>
                            </div>
                            
                            <div class="payment-details hidden mt-4 p-4 bg-pink-50 rounded-lg">
                                <h4 class="font-bold text-pink-800 mb-3">bKash Payment Instructions</h4>
                                <div class="space-y-2 text-sm">
                                    <p><strong>Merchant Number:</strong> 01885478700</p>
                                    <p><strong>Amount:</strong> <span class="payment-amount font-bold text-pink-600">৳0</span></p>
                                </div>
                                <ol class="mt-4 space-y-1 text-sm text-gray-700">
                                    <li>1. Dial *247# from your bKash account</li>
                                    <li>2. Select "Send Money"</li>
                                    <li>3. Enter: <strong>01885478700</strong></li>
                                    <li>4. Enter amount: <span class="payment-amount font-semibold">৳0</span></li>
                                    <li>5. Enter your bKash PIN</li>
                                    <li>6. Note down the Transaction ID</li>
                                    <li>7. Enter the Transaction ID below</li>
                                </ol>
                                
                                <div class="mt-4">
                                    <label class="block mb-2 font-semibold text-gray-700">Transaction ID *</label>
                                    <input type="text" id="bkash_trx_id" class="w-full px-3 py-2 border rounded focus:border-pink-500" placeholder="Enter bKash Transaction ID">
                                </div>
                                
                                <button onclick="confirmPayment('bkash')" class="w-full mt-4 py-3 bg-pink-500 text-white font-bold rounded hover:bg-pink-600">
                                    Confirm bKash Payment
                                </button>
                            </div>
                        </div>

                        <!-- Nagad Payment -->
                        <div class="payment-method mb-6" data-method="nagad">
                            <div class="border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-orange-500 transition-colors" onclick="selectPaymentMethod('nagad')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fas fa-mobile-alt text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg">Nagad</h3>
                                            <p class="text-gray-600 text-sm">Digital financial service</p>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </div>
                            </div>
                            
                            <div class="payment-details hidden mt-4 p-4 bg-orange-50 rounded-lg">
                                <h4 class="font-bold text-orange-800 mb-3">Nagad Payment Instructions</h4>
                                <div class="space-y-2 text-sm">
                                    <p><strong>Merchant Number:</strong> 01885478700</p>
                                    <p><strong>Amount:</strong> <span class="payment-amount font-bold text-orange-600">৳0</span></p>
                                </div>
                                <ol class="mt-4 space-y-1 text-sm text-gray-700">
                                    <li>1. Dial *167# from your Nagad account</li>
                                    <li>2. Select "Send Money"</li>
                                    <li>3. Enter: <strong>01885478700</strong></li>
                                    <li>4. Enter amount: <span class="payment-amount font-semibold">৳0</span></li>
                                    <li>5. Enter your Nagad PIN</li>
                                    <li>6. Note down the Transaction ID</li>
                                    <li>7. Enter the Transaction ID below</li>
                                </ol>
                                
                                <div class="mt-4">
                                    <label class="block mb-2 font-semibold text-gray-700">Transaction ID *</label>
                                    <input type="text" id="nagad_trx_id" class="w-full px-3 py-2 border rounded focus:border-orange-500" placeholder="Enter Nagad Transaction ID">
                                </div>
                                
                                <button onclick="confirmPayment('nagad')" class="w-full mt-4 py-3 bg-orange-500 text-white font-bold rounded hover:bg-orange-600">
                                    Confirm Nagad Payment
                                </button>
                            </div>
                        </div>

                        <!-- Rocket Payment -->
                        <div class="payment-method mb-6" data-method="rocket">
                            <div class="border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500 transition-colors" onclick="selectPaymentMethod('rocket')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fas fa-rocket text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg">Rocket</h3>
                                            <p class="text-gray-600 text-sm">DBBL mobile banking</p>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </div>
                            </div>
                            
                            <div class="payment-details hidden mt-4 p-4 bg-purple-50 rounded-lg">
                                <h4 class="font-bold text-purple-800 mb-3">Rocket Payment Instructions</h4>
                                <div class="space-y-2 text-sm">
                                    <p><strong>Merchant Number:</strong> 018854787001</p>
                                    <p><strong>Amount:</strong> <span class="payment-amount font-bold text-purple-600">৳0</span></p>
                                </div>
                                <ol class="mt-4 space-y-1 text-sm text-gray-700">
                                    <li>1. Dial *322# from your Rocket account</li>
                                    <li>2. Select "Send Money"</li>
                                    <li>3. Enter: <strong>018854787001</strong></li>
                                    <li>4. Enter amount: <span class="payment-amount font-semibold">৳0</span></li>
                                    <li>5. Enter your Rocket PIN</li>
                                    <li>6. Note down the Transaction ID</li>
                                    <li>7. Enter the Transaction ID below</li>
                                </ol>
                                
                                <div class="mt-4">
                                    <label class="block mb-2 font-semibold text-gray-700">Transaction ID *</label>
                                    <input type="text" id="rocket_trx_id" class="w-full px-3 py-2 border rounded focus:border-purple-500" placeholder="Enter Rocket Transaction ID">
                                </div>
                                
                                <button onclick="confirmPayment('rocket')" class="w-full mt-4 py-3 bg-purple-500 text-white font-bold rounded hover:bg-purple-600">
                                    Confirm Rocket Payment
                                </button>
                            </div>
                        </div>

                        <!-- Cash on Pickup -->
                        <div class="payment-method" data-method="cash">
                            <div class="border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-green-500 transition-colors" onclick="selectPaymentMethod('cash')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fas fa-money-bill-wave text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg">Cash on Pickup</h3>
                                            <p class="text-gray-600 text-sm">Pay when you receive the car</p>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </div>
                            </div>
                            
                            <div class="payment-details hidden mt-4 p-4 bg-green-50 rounded-lg">
                                <h4 class="font-bold text-green-800 mb-3">Cash Payment Details</h4>
                                <div class="space-y-2 text-sm text-gray-700">
                                    <p><strong>Amount to Pay:</strong> <span class="payment-amount font-bold text-green-600">৳0</span></p>
                                    <p><strong>Payment Time:</strong> When driver arrives for pickup</p>
                                    <p><strong>Note:</strong> Please keep exact amount ready</p>
                                </div>
                                
                                <div class="mt-4 p-3 bg-yellow-100 rounded border-l-4 border-yellow-500">
                                    <p class="text-sm text-yellow-800">
                                        <i class="fas fa-info-circle mr-1"></i>
                                        A confirmation call will be made within 30 minutes to verify your booking.
                                    </p>
                                </div>
                                
                                <button onclick="confirmPayment('cash')" class="w-full mt-4 py-3 bg-green-500 text-white font-bold rounded hover:bg-green-600">
                                    Confirm Cash Payment
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Bank Transfer (Optional) -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border mt-6">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">
                            <i class="fas fa-university text-blue-500 mr-2"></i>
                            Bank Transfer
                        </h2>
                        
                        <div class="payment-method" data-method="bank">
                            <div class="border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-500 transition-colors" onclick="selectPaymentMethod('bank')">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4">
                                            <i class="fas fa-university text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg">Bank Transfer</h3>
                                            <p class="text-gray-600 text-sm">Direct bank transfer</p>
                                        </div>
                                    </div>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </div>
                            </div>
                            
                            <div class="payment-details hidden mt-4 p-4 bg-blue-50 rounded-lg">
                                <h4 class="font-bold text-blue-800 mb-3">Bank Transfer Details</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="p-3 bg-white rounded border">
                                        <p><strong>Bank:</strong> Dutch Bangla Bank Limited</p>
                                        <p><strong>Account Name:</strong> Tripizo Car Rental Service</p>
                                        <p><strong>Account Number:</strong> 1234567890123</p>
                                        <p><strong>Routing Number:</strong> 090010001</p>
                                        <p><strong>Amount:</strong> <span class="payment-amount font-bold text-blue-600">৳0</span></p>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <label class="block mb-2 font-semibold text-gray-700">Transaction Reference *</label>
                                    <input type="text" id="bank_ref" class="w-full px-3 py-2 border rounded focus:border-blue-500" placeholder="Enter bank transfer reference">
                                </div>
                                
                                <button onclick="confirmPayment('bank')" class="w-full mt-4 py-3 bg-blue-500 text-white font-bold rounded hover:bg-blue-600">
                                    Confirm Bank Transfer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Summary -->
                <div class="space-y-6">
                    <div class="bg-gradient-to-br from-orange-50 to-red-50 p-6 rounded-xl shadow-lg border sticky top-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">
                            <i class="fas fa-receipt text-orange-500 mr-2"></i>
                            Payment Summary
                        </h3>
                        
                        <div id="paymentSummary" class="space-y-4">
                            <!-- Booking Details -->
                            <div class="p-4 bg-white rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Booking Details</h4>
                                <div class="space-y-1 text-sm text-gray-600">
                                    <p><strong>Booking ID:</strong> <span id="bookingId">TRP20240001</span></p>
                                    <p><strong>Vehicle:</strong> <span id="vehicleType">Toyota Axio</span></p>
                                    <p><strong>Duration:</strong> <span id="duration">2 days</span></p>
                                    <p><strong>Start Date:</strong> <span id="startDate">2024-08-10</span></p>
                                </div>
                            </div>

                            <!-- Amount Breakdown -->
                            <div class="p-4 bg-white rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Amount Breakdown</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Daily Rate:</span>
                                        <span id="dailyRate" class="font-bold">৳4,500</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Duration:</span>
                                        <span id="totalDays" class="font-bold">2 day(s)</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Subtotal:</span>
                                        <span id="subtotal" class="font-bold">৳9,000</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Discount:</span>
                                        <span id="discount" class="font-bold text-green-600">-৳450</span>
                                    </div>
                                    <hr class="my-2">
                                    <div class="flex justify-between font-bold text-lg">
                                        <span class="text-gray-800">Total Amount:</span>
                                        <span id="totalAmount" class="text-orange-600">৳8,550</span>
                                    </div>
                                </div>
                                
                                <!-- Payment Option Display -->
                                <div class="mt-3 p-3 bg-blue-50 rounded">
                                    <div class="flex justify-between">
                                        <span class="text-sm text-gray-600">Payment Option:</span>
                                        <span id="paymentOptionText" class="text-sm font-bold text-blue-600">Full Payment (5% OFF)</span>
                                    </div>
                                    <div class="flex justify-between mt-1">
                                        <span class="text-sm text-gray-600">Amount to Pay Now:</span>
                                        <span id="amountToPay" class="text-lg font-bold text-blue-600">৳8,550</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Customer Details -->
                            <div class="p-4 bg-white rounded-lg">
                                <h4 class="font-semibold text-gray-800 mb-2">Customer Details</h4>
                                <div class="space-y-1 text-sm text-gray-600">
                                    <p><strong>Name:</strong> <span id="customerName">John Doe</span></p>
                                    <p><strong>Phone:</strong> <span id="customerPhone">01712345678</span></p>
                                    <p><strong>Email:</strong> <span id="customerEmail">john@email.com</span></p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Security Info -->
                        <div class="mt-6 p-4 bg-green-100 rounded-lg">
                            <h4 class="font-bold text-green-800 mb-2">
                                <i class="fas fa-shield-alt mr-1"></i>
                                Secure Payment
                            </h4>
                            <p class="text-green-700 text-sm">Your payment is secured with SSL encryption. We never store your financial information.</p>
                        </div>

                        <!-- Support Info -->
                        <div class="mt-4 p-4 bg-red-100 rounded-lg">
                            <h4 class="font-bold text-red-800 mb-2">
                                <i class="fas fa-phone-alt mr-1"></i>
                                Need Help?
                            </h4>
                            <p class="text-red-700 text-sm">Call: 01885478700</p>
                            <p class="text-red-700 text-sm">WhatsApp: 01885478700</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Status Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-8 rounded-xl shadow-2xl max-w-md w-full mx-4">
            <div id="modalContent">
                <!-- Content will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-200 py-12">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div>
                    <h2 class="text-2xl font-bold mb-4 text-orange-400">Tripizo</h2>
                    <p class="text-gray-400">We are best at providing reliable and affordable car rentals for your journey.</p>
                </div>
                <div>
                    <h2 class="text-2xl font-bold mb-4 text-orange-400">Useful Links</h2>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="hover:text-orange-400 transition-colors">Home</a></li>
                        <li><a href="vehicles.html" class="hover:text-orange-400 transition-colors">Vehicles</a></li>
                        <li><a href="about.html" class="hover:text-orange-400 transition-colors">About Us</a></li>
                        <li><a href="contact.html" class="hover:text-orange-400 transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h2 class="text-2xl font-bold mb-4 text-orange-400">Contact</h2>
                    <ul class="space-y-2">
                        <li><i class="fas fa-phone-alt mr-2 text-orange-400"></i> 01642008569</li>
                        <li><i class="fab fa-whatsapp mr-2 text-green-400"></i> 01642008569</li>
                        <li><i class="fas fa-envelope mr-2 text-blue-400"></i> tripizo32@gmail.com</i>
                    </ul>
                </div>
            </div>
            <div class="flex justify-center space-x-6">
                <a href="#" class="text-gray-400 hover:text-orange-400 text-2xl transition-colors"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="text-gray-400 hover:text-orange-400 text-2xl transition-colors"><i class="fab fa-instagram"></i></a>
                <a href="#" class="text-gray-400 hover:text-orange-400 text-2xl transition-colors"><i class="fab fa-x-twitter"></i></a>
                <a href="#" class="text-gray-400 hover:text-orange-400 text-2xl transition-colors"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // Get booking details from URL parameters or localStorage
        let bookingData = {
            bookingId: 'TRP20240001',
            vehicleType: 'Toyota Axio',
            duration: 2,
            startDate: '2024-08-10',
            dailyRate: 4500,
            subtotal: 9000,
            discount: 450,
            totalAmount: 8550,
            paymentOption: 'full',
            customerName: 'John Doe',
            customerPhone: '01712345678',
            customerEmail: 'john@email.com'
        };

        // Load booking data from URL parameters if available
        function loadBookingData() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('booking_id')) {
                // Update booking data from URL parameters
                bookingData.bookingId = urlParams.get('booking_id') || bookingData.bookingId;
                bookingData.vehicleType = urlParams.get('vehicle') || bookingData.vehicleType;
                bookingData.duration = parseInt(urlParams.get('duration')) || bookingData.duration;
                bookingData.totalAmount = parseInt(urlParams.get('total')) || bookingData.totalAmount;
            }
            
            updatePaymentSummary();
        }

        // Update payment summary display
        function updatePaymentSummary() {
            document.getElementById('bookingId').textContent = bookingData.bookingId;
            document.getElementById('vehicleType').textContent = bookingData.vehicleType;
            document.getElementById('duration').textContent = bookingData.duration + ' days';
            document.getElementById('startDate').textContent = bookingData.startDate;
            document.getElementById('dailyRate').textContent = '৳' + bookingData.dailyRate.toLocaleString();
            document.getElementById('totalDays').textContent = bookingData.duration + ' day(s)';
            document.getElementById('subtotal').textContent = '৳' + bookingData.subtotal.toLocaleString();
            document.getElementById('discount').textContent = bookingData.discount > 0 ? '-৳' + bookingData.discount.toLocaleString() : '৳0';
            document.getElementById('totalAmount').textContent = '৳' + bookingData.totalAmount.toLocaleString();
            document.getElementById('customerName').textContent = bookingData.customerName;
            document.getElementById('customerPhone').textContent = bookingData.customerPhone;
            document.getElementById('customerEmail').textContent = bookingData.customerEmail;

            // Update payment amounts in all methods
            const amountElements = document.querySelectorAll('.payment-amount');
            const paymentAmount = bookingData.paymentOption === 'advance' ? Math.round(bookingData.totalAmount * 0.5) : bookingData.totalAmount;
            
            amountElements.forEach(el => {
                el.textContent = '৳' + paymentAmount.toLocaleString();
            });

            document.getElementById('amountToPay').textContent = '৳' + paymentAmount.toLocaleString();
            document.getElementById('paymentOptionText').textContent = bookingData.paymentOption === 'full' ? 'Full Payment (5% OFF)' : '50% Advance Payment';
        }

        // Select payment method
        function selectPaymentMethod(method) {
            // Hide all payment details
            document.querySelectorAll('.payment-details').forEach(detail => {
                detail.classList.add('hidden');
            });

            // Remove active state from all methods
            document.querySelectorAll('.payment-method > div').forEach(div => {
                div.classList.remove('border-blue-500', 'border-pink-500', 'border-orange-500', 'border-purple-500', 'border-green-500');
                div.classList.add('border-gray-200');
            });

            // Show selected payment method details
            const selectedMethod = document.querySelector(`[data-method="${method}"]`);
            const details = selectedMethod.querySelector('.payment-details');
            const methodDiv = selectedMethod.querySelector('div');
            
            details.classList.remove('hidden');
            
            // Add active state
            methodDiv.classList.remove('border-gray-200');
            switch(method) {
                case 'bkash':
                    methodDiv.classList.add('border-pink-500');
                    break;
                case 'nagad':
                    methodDiv.classList.add('border-orange-500');
                    break;
                case 'rocket':
                    methodDiv.classList.add('border-purple-500');
                    break;
                case 'cash':
                    methodDiv.classList.add('border-green-500');
                    break;
                case 'bank':
                    methodDiv.classList.add('border-blue-500');
                    break;
            }
        }

        // Confirm payment
        function confirmPayment(method) {
            let transactionId = '';
            let isValid = true;

            // Get transaction ID based on method
            switch(method) {
                case 'bkash':
                    transactionId = document.getElementById('bkash_trx_id').value.trim();
                    if (!transactionId) {
                        alert('Please enter bKash Transaction ID');
                        return;
                    }
                    break;
                case 'nagad':
                    transactionId = document.getElementById('nagad_trx_id').value.trim();
                    if (!transactionId) {
                        alert('Please enter Nagad Transaction ID');
                        return;
                    }
                    break;
                case 'rocket':
                    transactionId = document.getElementById('rocket_trx_id').value.trim();
                    if (!transactionId) {
                        alert('Please enter Rocket Transaction ID');
                        return;
                    }
                    break;
                case 'bank':
                    transactionId = document.getElementById('bank_ref').value.trim();
                    if (!transactionId) {
                        alert('Please enter Bank Transfer Reference');
                        return;
                    }
                    break;
                case 'cash':
                    transactionId = 'CASH_ON_PICKUP';
                    break;
            }

            // Show loading modal
            showModal('processing');

            // Simulate payment processing
            setTimeout(() => {
                // In real implementation, this would call your payment processing API
                processPayment(method, transactionId);
            }, 2000);
        }

        // Process payment (simulate API call)
        function processPayment(method, transactionId) {
            // Simulate API call
            const success = Math.random() > 0.1; // 90% success rate for demo

            if (success) {
                showModal('success', method, transactionId);
                
                // Redirect to thank you page after 3 seconds
                setTimeout(() => {
                    window.location.href = 'thankyou.html?booking_id=' + bookingData.bookingId + '&payment_method=' + method;
                }, 3000);
            } else {
                showModal('error', method);
            }
        }

        // Show modal
        function showModal(type, method = '', transactionId = '') {
            const modal = document.getElementById('paymentModal');
            const content = document.getElementById('modalContent');
            
            let modalHTML = '';

            switch(type) {
                case 'processing':
                    modalHTML = `
                        <div class="text-center">
                            <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"></div>
                            <h3 class="text-xl font-bold mb-2">Processing Payment...</h3>
                            <p class="text-gray-600">Please wait while we verify your payment</p>
                        </div>
                    `;
                    break;

                case 'success':
                    modalHTML = `
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-check text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-green-800 mb-2">Payment Successful!</h3>
                            <p class="text-gray-600 mb-4">Your booking has been confirmed</p>
                            <div class="text-sm text-gray-600">
                                <p><strong>Booking ID:</strong> ${bookingData.bookingId}</p>
                                <p><strong>Payment Method:</strong> ${method.toUpperCase()}</p>
                                ${transactionId !== 'CASH_ON_PICKUP' ? `<p><strong>Transaction ID:</strong> ${transactionId}</p>` : ''}
                            </div>
                            <p class="text-sm text-green-600 mt-4">Redirecting to confirmation page...</p>
                        </div>
                    `;
                    break;

                case 'error':
                    modalHTML = `
                        <div class="text-center">
                            <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-times text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-red-800 mb-2">Payment Failed!</h3>
                            <p class="text-gray-600 mb-4">There was an issue processing your payment</p>
                            <button onclick="closeModal()" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600">
                                Try Again
                            </button>
                        </div>
                    `;
                    break;
            }

            content.innerHTML = modalHTML;
            modal.classList.remove('hidden');
        }

        // Close modal
        function closeModal() {
            document.getElementById('paymentModal').classList.add('hidden');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadBookingData();
        });
    </script>

</body>
</html>